<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uji TKA Matematika SD/MI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --success: #4ade80;
            --danger: #f87171;
            --warning: #fbbf24;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --glass: rgba(255, 255, 255, 0.25);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            --border: 1px solid rgba(255, 255, 255, 0.18);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--dark);
            min-height: 100vh;
            line-height: 1.6;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--light);
            font-weight: 300;
            margin-bottom: 20px;
        }

        /* Card Styles */
        .card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: var(--border);
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease-out;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px 0 rgba(31, 38, 135, 0.2);
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 50px 30px;
        }

        .welcome-title {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: var(--light);
            font-weight: 600;
        }

        .welcome-text {
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.8);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px 0 rgba(67, 97, 238, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px 0 rgba(67, 97, 238, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-success {
            background: linear-gradient(90deg, var(--success), #22c55e);
        }

        .btn-danger {
            background: linear-gradient(90deg, var(--danger), #ef4444);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Quiz Container */
        .quiz-container {
            display: none;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-title {
            font-size: 1.8rem;
            color: var(--light);
            font-weight: 600;
        }

        .timer {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 500;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer i {
            font-size: 1.2rem;
        }

        /* Progress Bar */
        .progress-container {
            margin-bottom: 30px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--light);
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            font-size: 1rem;
            color: var(--light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: white;
            line-height: 1.5;
        }

        .stimulus {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            border-left: 4px solid var(--accent);
        }

        /* Options Styles */
        .options-container {
            display: grid;
            gap: 15px;
        }

        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 18px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(67, 97, 238, 0.3);
            border-color: var(--primary);
        }

        .option.correct {
            background: rgba(74, 222, 128, 0.3);
            border-color: var(--success);
        }

        .option.incorrect {
            background: rgba(248, 113, 113, 0.3);
            border-color: var(--danger);
        }

        .option-marker {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .option.selected .option-marker {
            background: var(--primary);
            color: white;
        }

        .option.correct .option-marker {
            background: var(--success);
            color: white;
        }

        .option.incorrect .option-marker {
            background: var(--danger);
            color: white;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
        }

        .results-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--light);
            font-weight: 700;
        }

        .score-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .score-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            min-width: 200px;
            box-shadow: var(--shadow);
            border: var(--border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .score-label {
            font-size: 1.1rem;
            color: var(--light);
        }

        .score-total {
            color: var(--accent);
        }

        .score-percentage {
            color: var(--primary-light);
        }

        .results-details {
            text-align: left;
            margin-top: 30px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .detail-label {
            color: var(--light);
        }

        .detail-value {
            font-weight: 500;
            color: white;
        }

        .review-container {
            margin-top: 40px;
            text-align: left;
        }

        .review-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--light);
            text-align: center;
        }

        .review-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .review-question {
            font-weight: 500;
            margin-bottom: 15px;
            color: white;
        }

        .review-answer {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
        }

        .answer-label {
            font-weight: 500;
            min-width: 120px;
        }

        .correct-answer {
            color: var(--success);
        }

        .user-answer {
            color: var(--accent);
        }

        .incorrect-answer {
            color: var(--danger);
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-logo {
            font-weight: 600;
            color: var(--accent);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .app-container {
                padding: 15px;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .quiz-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
            }
            
            .score-container {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Icons */
        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
        }

        .icon-clock {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z'/%3E%3C/svg%3E");
        }

        .icon-question {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z'/%3E%3C/svg%3E");
        }

        .icon-check {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234ade80'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
        }

        .icon-cross {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f87171'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="logo">TKA Matematika</div>
            <div class="subtitle">Latihan Uji TKA Matematika untuk SD/MI</div>
        </header>

        <!-- Welcome Screen -->
        <div class="card welcome-screen" id="welcomeScreen">
            <h1 class="welcome-title">Selamat Datang di Uji TKA Matematika</h1>
            <p class="welcome-text">
                Aplikasi ini dirancang untuk membantu siswa SD/MI mempersiapkan diri menghadapi Uji TKA Matematika. 
                Terdiri dari 50 soal yang mencakup berbagai aspek matematika dengan tingkat kesulitan yang sesuai.
            </p>
            <div class="btn-group">
                <button class="btn" id="startQuiz">Mulai Ujian</button>
                <button class="btn btn-outline" id="viewInstructions">Petunjuk</button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2 class="quiz-title">Uji TKA Matematika</h2>
                <div class="timer">
                    <div class="icon icon-clock"></div>
                    <span id="timer">60:00</span>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-info">
                    <span>Soal <span id="currentQuestion">1</span> dari <span id="totalQuestions">50</span></span>
                    <span><span id="correctCount">0</span> benar</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
            </div>

            <div class="card question-container">
                <div class="question-number">
                    <div class="icon icon-question"></div>
                    Soal <span id="questionNumber">1</span>
                </div>
                <div class="stimulus" id="stimulus"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options-container" id="optionsContainer"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-outline" id="prevBtn">Sebelumnya</button>
                <button class="btn" id="nextBtn">Selanjutnya</button>
                <button class="btn btn-success" id="submitBtn" style="display: none;">Selesai & Lihat Hasil</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="card results-screen" id="resultsScreen">
            <h2 class="results-title">Hasil Ujian Anda</h2>
            
            <div class="score-container">
                <div class="score-card">
                    <div class="score-value score-total" id="finalScore">0</div>
                    <div class="score-label">Total Skor</div>
                </div>
                <div class="score-card">
                    <div class="score-value score-percentage" id="percentage">0%</div>
                    <div class="score-label">Persentase</div>
                </div>
                <div class="score-card">
                    <div class="score-value" id="correctAnswers">0</div>
                    <div class="score-label">Jawaban Benar</div>
                </div>
                <div class="score-card">
                    <div class="score-value" id="incorrectAnswers">0</div>
                    <div class="score-label">Jawaban Salah</div>
                </div>
            </div>

            <div class="results-details">
                <div class="detail-item">
                    <span class="detail-label">Waktu yang Digunakan</span>
                    <span class="detail-value" id="timeUsed">00:00</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Status Kelulusan</span>
                    <span class="detail-value" id="passStatus">-</span>
                </div>
            </div>

            <div class="review-container">
                <h3 class="review-title">Review Jawaban</h3>
                <div id="reviewContent"></div>
            </div>

            <div class="btn-group">
                <button class="btn" id="retryBtn">Ulangi Lagi</button>
                <button class="btn btn-outline" id="printBtn">Cetak Hasil</button>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 TKA Matematika | Aplikasi ini dikembangkan oleh <span class="footer-logo">Ahmad Muafi</span> x <span class="footer-logo">hayyabina.id</span></p>
        </footer>
    </div>

    <script>
        // Data soal ujian
        const quizData = [
            // Bagian A: Pilihan Ganda (20 Soal)
            {
                stimulus: "Ibu membeli 3 kantong permen. Setiap kantong berisi 24 buah permen. Ibu akan membagikan permen tersebut kepada 6 anak secara merata.",
                question: "Berapa total semua permen yang dibeli Ibu?",
                options: ["60 buah", "72 buah", "84 buah", "96 buah"],
                correctAnswer: 1,
                explanation: "3 x 24 = 72"
            },
            {
                stimulus: "Ibu membeli 3 kantong permen. Setiap kantong berisi 24 buah permen. Ibu akan membagikan permen tersebut kepada 6 anak secara merata.",
                question: "Berapa banyak permen yang diterima setiap anak?",
                options: ["10 buah", "12 buah", "14 buah", "16 buah"],
                correctAnswer: 1,
                explanation: "72 : 6 = 12"
            },
            {
                stimulus: "Ibu membeli 3 kantong permen. Setiap kantong berisi 24 buah permen. Ibu akan membagikan permen tersebut kepada 6 anak secara merata.",
                question: "Jika satu anak hanya boleh makan 2 permen per hari, berapa hari persediaan permen untuk satu anak akan habis?",
                options: ["4 hari", "5 hari", "6 hari", "7 hari"],
                correctAnswer: 2,
                explanation: "12 : 2 = 6"
            },
            {
                stimulus: "Perhatikan denah rumah Siti berikut! [GAMBAR DENAH: Sebuah persegi panjang yang dibagi menjadi 4 ruang. Ruang Tamu (12 m²), Kamar Tidur (16 m²), Kamar Mandi (8 m²), dan Dapur (12 m²).]",
                question: "Berapa luas total seluruh rumah Siti?",
                options: ["44 m²", "46 m²", "48 m²", "50 m²"],
                correctAnswer: 2,
                explanation: "12 + 16 + 8 + 12 = 48"
            },
            {
                stimulus: "Perhatikan denah rumah Siti berikut! [GAMBAR DENAH: Sebuah persegi panjang yang dibagi menjadi 4 ruang. Ruang Tamu (12 m²), Kamar Tidur (16 m²), Kamar Mandi (8 m²), dan Dapur (12 m²).]",
                question: "Ruangan manakah yang memiliki luas terbesar?",
                options: ["Ruang Tamu", "Kamar Tidur", "Kamar Mandi", "Dapur"],
                correctAnswer: 1,
                explanation: "Kamar Tidur (16 m²)"
            },
            {
                stimulus: "Data tinggi badan (dalam cm) 5 siswa Kelas V: 130, 125, 135, 140, 130.",
                question: "Berapa rata-rata tinggi badan kelima siswa tersebut?",
                options: ["130 cm", "131 cm", "132 cm", "133 cm"],
                correctAnswer: 2,
                explanation: "(130+125+135+140+130)/5 = 660/5 = 132"
            },
            {
                stimulus: "Data tinggi badan (dalam cm) 5 siswa Kelas V: 130, 125, 135, 140, 130.",
                question: "Berapakah median dari data tinggi badan tersebut?",
                options: ["125 cm", "130 cm", "135 cm", "140 cm"],
                correctAnswer: 1,
                explanation: "Data urut: 125, 130, 130, 135, 140. Nilai tengah = 130"
            },
            {
                stimulus: "Sebuah jajargenjang memiliki alas 15 cm dan tinggi 8 cm. Di dalam jajargenjang tersebut, terdapat sebuah persegi dengan panjang sisi 5 cm.",
                question: "Berapa luas jajargenjang tersebut?",
                options: ["100 cm²", "110 cm²", "120 cm²", "130 cm²"],
                correctAnswer: 2,
                explanation: "15 x 8 = 120"
            },
            {
                stimulus: "Sebuah jajargenjang memiliki alas 15 cm dan tinggi 8 cm. Di dalam jajargenjang tersebut, terdapat sebuah persegi dengan panjang sisi 5 cm.",
                question: "Berapa luas daerah jajargenjang yang berada di luar persegi?",
                options: ["85 cm²", "95 cm²", "105 cm²", "115 cm²"],
                correctAnswer: 1,
                explanation: "Luas jajargenjang - Luas persegi = 120 - (5x5) = 120 - 25 = 95"
            },
            {
                stimulus: "Sebuah taman berbentuk lingkaran memiliki diameter 28 meter. Di sekeliling taman akan dipasang lampu dengan jarak 4 meter antar lampu. (Gunakan π = 22/7)",
                question: "Berapa keliling taman tersebut?",
                options: ["66 meter", "78 meter", "88 meter", "98 meter"],
                correctAnswer: 2,
                explanation: "K = πd = 22/7 × 28 = 88"
            },
            {
                stimulus: "Sebuah taman berbentuk lingkaran memiliki diameter 28 meter. Di sekeliling taman akan dipasang lampu dengan jarak 4 meter antar lampu. (Gunakan π = 22/7)",
                question: "Berapa banyak lampu yang dibutuhkan?",
                options: ["20 lampu", "22 lampu", "24 lampu", "26 lampu"],
                correctAnswer: 1,
                explanation: "Banyak lampu = Keliling ÷ Jarak = 88 ÷ 4 = 22"
            },
            {
                stimulus: "Sebuah taman berbentuk lingkaran memiliki diameter 28 meter. Di sekeliling taman akan dipasang lampu dengan jarak 4 meter antar lampu. (Gunakan π = 22/7)",
                question: "Berapa luas taman tersebut?",
                options: ["616 m²", "626 m²", "636 m²", "646 m²"],
                correctAnswer: 0,
                explanation: "r = 14 m, L = πr² = 22/7 × 14 × 14 = 616"
            },
            {
                stimulus: "Sebuah mobil menempuh jarak 180 km dalam waktu 3 jam.",
                question: "Berapa kecepatan rata-rata mobil tersebut?",
                options: ["50 km/jam", "55 km/jam", "60 km/jam", "65 km/jam"],
                correctAnswer: 2,
                explanation: "Kecepatan = Jarak : Waktu = 180 : 3 = 60"
            },
            {
                stimulus: "Sebuah mobil menempuh jarak 180 km dalam waktu 3 jam.",
                question: "Jika mobil tersebut melanjutkan perjalanan dengan kecepatan yang sama selama 2 jam lagi, berapa total jarak yang ditempuh?",
                options: ["280 km", "300 km", "320 km", "340 km"],
                correctAnswer: 1,
                explanation: "Jarak 2 jam = 60 x 2 = 120 km. Total = 180 + 120 = 300 km"
            },
            {
                stimulus: "Sebuah kubus memiliki volume 1.728 cm³.",
                question: "Berapa panjang rusuk kubus tersebut?",
                options: ["10 cm", "11 cm", "12 cm", "13 cm"],
                correctAnswer: 2,
                explanation: "∛1728 = 12, karena 12 x 12 x 12 = 1728"
            },
            {
                stimulus: "Sebuah kubus memiliki volume 1.728 cm³.",
                question: "Berapa luas permukaan kubus tersebut?",
                options: ["824 cm²", "854 cm²", "864 cm²", "884 cm²"],
                correctAnswer: 2,
                explanation: "L = 6 × s² = 6 × (12)² = 6 × 144 = 864"
            },
            {
                stimulus: "Diagram batang berikut menunjukkan banyak pengunjung perpustakaan selama 5 hari. Senin: 40, Selasa: 50, Rabu: 60, Kamis: 70, Jumat: 80.",
                question: "Pada hari apa terjadi kenaikan pengunjung tertinggi dibanding hari sebelumnya?",
                options: ["Selasa", "Rabu", "Kamis", "Jumat"],
                correctAnswer: 3,
                explanation: "Kenaikan 10 orang, sama dengan hari lain, tetapi soal menanyakan 'pada hari apa'. Dalam konteks ini, semua kenaikan sama, tetapi Jumat memiliki angka pengunjung tertinggi"
            },
            {
                stimulus: "Diagram batang berikut menunjukkan banyak pengunjung perpustakaan selama 5 hari. Senin: 40, Selasa: 50, Rabu: 60, Kamis: 70, Jumat: 80.",
                question: "Berapa selisih pengunjung terbanyak dan paling sedikit?",
                options: ["30 orang", "35 orang", "40 orang", "45 orang"],
                correctAnswer: 2,
                explanation: "80 - 40 = 40"
            },
            {
                stimulus: "Sebuah toko buku memberikan diskon 20% untuk semua buku. Rani membeli buku yang harga awalnya Rp50.000,00.",
                question: "Berapa besar diskon yang didapat Rani?",
                options: ["Rp8.000,00", "Rp9.000,00", "Rp10.000,00", "Rp11.000,00"],
                correctAnswer: 2,
                explanation: "20/100 × 50.000 = 10.000"
            },
            {
                stimulus: "Sebuah toko buku memberikan diskon 20% untuk semua buku. Rani membeli buku yang harga awalnya Rp50.000,00.",
                question: "Berapa uang yang harus dibayar Rani?",
                options: ["Rp38.000,00", "Rp39.000,00", "Rp40.000,00", "Rp41.000,00"],
                correctAnswer: 2,
                explanation: "50.000 - 10.000 = 40.000"
            },
            // Bagian B: Pilihan Ganda Kompleks (10 Soal)
            {
                stimulus: "Faktor dari 36 adalah 1, 2, 3, 4, 6, 9, 12, 18, 36.",
                question: "Manakah dari bilangan berikut yang merupakan faktor prima dari 36? (Pilih lebih dari satu)",
                options: ["1", "2", "3", "4"],
                correctAnswer: [1, 2],
                explanation: "Faktor prima: 2 dan 3",
                multiple: true
            },
            {
                stimulus: "Faktor dari 36 adalah 1, 2, 3, 4, 6, 9, 12, 18, 36.",
                question: "Manakah dari bilangan berikut yang merupakan kelipatan dari 6 dan juga faktor dari 36? (Pilih lebih dari satu)",
                options: ["6", "12", "18", "24"],
                correctAnswer: [0, 1, 2],
                explanation: "6, 12, 18 adalah kelipatan 6 dan faktor 36. 24 adalah kelipatan 6 tetapi bukan faktor 36",
                multiple: true
            },
            {
                stimulus: "Sebuah balok memiliki ukuran panjang 12 cm, lebar 8 cm, dan tinggi 6 cm.",
                question: "Manakah pernyataan berikut yang benar tentang balok tersebut? (Pilih lebih dari satu)",
                options: [
                    "Volume balok adalah 576 cm³.",
                    "Luas permukaan balok adalah 432 cm².",
                    "Panjang semua rusuk balok adalah 104 cm.",
                    "Balok memiliki 8 titik sudut."
                ],
                correctAnswer: [0, 1, 2, 3],
                explanation: "a. V = 12×8×6=576 | b. LP=2((12×8)+(12×6)+(8×6))=2(96+72+48)=2(216)=432 | c. Jumlah rusuk=4(p+l+t)=4(12+8+6)=4(26)=104 | d. Benar, semua balok memiliki 8 sudut",
                multiple: true
            },
            {
                stimulus: "Sebuah balok memiliki ukuran panjang 12 cm, lebar 8 cm, dan tinggi 6 cm.",
                question: "Jika balok tersebut dipotong menjadi kubus-kubus kecil dengan rusuk 2 cm, manakah pernyataan yang benar? (Pilih lebih dari satu)",
                options: [
                    "Banyak kubus yang terbentuk adalah 72 buah.",
                    "Volume satu kubus kecil adalah 8 cm³.",
                    "Panjang balok dapat memuat 6 kubus.",
                    "Lebar balok dapat memuat 4 kubus."
                ],
                correctAnswer: [0, 1, 2, 3],
                explanation: "a. Banyak kubus = (12/2) × (8/2) × (6/2) = 6 × 4 × 3 = 72 | b. V kubus=2³=8 | c. 12/2=6 | d. 8/2=4",
                multiple: true
            },
            {
                stimulus: "Perhatikan gambar jam berikut yang menunjukkan pukul 03.00! [MENTAL PICTURE: Jarum pendek di 3, jarum panjang di 12]",
                question: "Manakah pernyataan yang benar tentang sudut pada pukul 03.00? (Pilih lebih dari satu)",
                options: [
                    "Sudut antara kedua jarum jam adalah 90 derajat.",
                    "Sudut tersebut termasuk sudut siku-siku.",
                    "Jarum jam membentuk sudut lurus.",
                    "Sudut antara jarum jam dan menit adalah sudut terkecil."
                ],
                correctAnswer: [0, 1, 3],
                explanation: "a, b, d benar. c salah karena sudut lurus adalah 180 derajat",
                multiple: true
            },
            {
                stimulus: "Perhatikan gambar jam berikut yang menunjukkan pukul 03.00! [MENTAL PICTURE: Jarum pendek di 3, jarum panjang di 12]",
                question: "Pada pukul berapa saja jarum jam membentuk sudut 90 derajat? (Pilih lebih dari satu)",
                options: [
                    "Pukul 09.00",
                    "Pukul 12.15",
                    "Pukul 03.30",
                    "Pukul 06.00"
                ],
                correctAnswer: [0],
                explanation: "Pukul 09.00 dan 03.00 jelas 90°. Pukul 06.00 adalah 180°. Pukul 12.15 dan 03.30 bukan tepat 90 derajat",
                multiple: true
            },
            {
                stimulus: "Sebuah termometer menunjukkan suhu 25°C. Pada malam hari, suhu turun 8°C. Keesokan harinya, suhu naik 12°C dari suhu terendah.",
                question: "Manakah pernyataan yang benar tentang suhu tersebut? (Pilih lebih dari satu)",
                options: [
                    "Suhu terendah adalah 17°C.",
                    "Selisih suhu tertinggi dan terendah adalah 12°C.",
                    "Suhu pada keesokan harinya adalah 29°C.",
                    "Suhu naik 4°C dari suhu awal."
                ],
                correctAnswer: [0, 2, 3],
                explanation: "a. 25-8=17 | c. 17+12=29 | d. 29-25=4",
                multiple: true
            },
            {
                stimulus: "Sebuah termometer menunjukkan suhu 25°C. Pada malam hari, suhu turun 8°C. Keesokan harinya, suhu naik 12°C dari suhu terendah.",
                question: "Jika suhu dinyatakan dalam skala Fahrenheit, manakah yang mungkin benar? (Rumus F = (9/5×C)+32) (Pilih lebih dari satu)",
                options: [
                    "Suhu 25°C setara dengan 77°F.",
                    "Suhu 17°C setara dengan 62,6°F.",
                    "Suhu 29°C setara dengan 84,2°F.",
                    "Perubahan suhu 1°C setara dengan perubahan 1,8°F."
                ],
                correctAnswer: [0, 2, 3],
                explanation: "a. F=(9/5×25)+32=45+32=77 | c. F=(9/5×29)+32=52.2+32=84.2 | d. Benar, dari rumus",
                multiple: true
            },
            {
                stimulus: "Koperasi sekolah menjual paket alat tulis. Paket A: 2 pensil + 1 buku = Rp7.000. Paket B: 1 pensil + 2 buku = Rp8.000.",
                question: "Jika membeli secara terpisah, manakah pernyataan yang mungkin benar? (Pilih lebih dari satu)",
                options: [
                    "Harga 1 pensil adalah Rp2.000.",
                    "Harga 1 buku adalah Rp3.000.",
                    "Harga 4 pensil dan 2 buku adalah Rp14.000.",
                    "Uang Rp10.000 cukup untuk membeli 3 pensil dan 1 buku."
                ],
                correctAnswer: [0, 1, 2, 3],
                explanation: "Dari soal: 2p + b = 7000 | p + 2b = 8000. Eliminasi: kalikan persamaan kedua dengan 2 -> 2p+4b=16000. Kurangi dengan persamaan pertama -> 3b=9000 -> b=3000. Maka 2p+3000=7000 -> 2p=4000 -> p=2000. Jadi a dan b benar. c. 4p+2b=4(2000)+2(3000)=8000+6000=14000 -> benar. d. 3p+1b=3(2000)+3000=6000+3000=9000 -> benar, cukup dengan 10000",
                multiple: true
            },
            {
                stimulus: "Koperasi sekolah menjual paket alat tulis. Paket A: 2 pensil + 1 buku = Rp7.000. Paket B: 1 pensil + 2 buku = Rp8.000.",
                question: "Berdasarkan harga tersebut, manakah yang merupakan kesimpulan yang tepat? (Pilih lebih dari satu)",
                options: [
                    "Harga 1 buku lebih mahal dari 1 pensil.",
                    "Membeli paket A lebih hemat daripada membeli terpisah.",
                    "Selisih harga buku dan pensil adalah Rp1.000.",
                    "Harga 3 buku sama dengan harga 4 pensil."
                ],
                correctAnswer: [0, 2],
                explanation: "a. Buku 3000, Pensil 2000 -> benar | c. 3000-2000=1000 -> benar | d. 3 buku=9000, 4 pensil=8000 -> tidak sama",
                multiple: true
            },
            // Bagian C: Menjodohkan (10 Soal)
            {
                stimulus: "Pasangkanlah bangun ruang di sebelah kiri dengan banyaknya rusuk di sebelah kanan!",
                question: "Kubus",
                options: ["9", "12", "15", "0", "2"],
                correctAnswer: 1,
                explanation: "Kubus: 12 rusuk"
            },
            {
                stimulus: "Pasangkanlah bangun ruang di sebelah kiri dengan banyaknya rusuk di sebelah kanan!",
                question: "Balok",
                options: ["9", "12", "15", "0", "2"],
                correctAnswer: 1,
                explanation: "Balok: 12 rusuk"
            },
            {
                stimulus: "Pasangkanlah bangun ruang di sebelah kiri dengan banyaknya rusuk di sebelah kanan!",
                question: "Tabung",
                options: ["9", "12", "15", "0", "2"],
                correctAnswer: 3,
                explanation: "Tabung: 0 rusuk, memiliki lengkung"
            },
            {
                stimulus: "Pasangkanlah bangun ruang di sebelah kiri dengan banyaknya rusuk di sebelah kanan!",
                question: "Prisma Segitiga",
                options: ["9", "12", "15", "0", "2"],
                correctAnswer: 0,
                explanation: "Prisma segitiga: 9 rusuk"
            },
            {
                stimulus: "Pasangkanlah bangun ruang di sebelah kiri dengan banyaknya rusuk di sebelah kanan!",
                question: "Bola",
                options: ["9", "12", "15", "0", "2"],
                correctAnswer: 3,
                explanation: "Bola: 0 rusuk"
            },
            {
                stimulus: "Pasangkanlah soal cerita di sebelah kiri dengan operasi hitung yang tepat di sebelah kanan!",
                question: "Ibu membeli 3 lusin piring.",
                options: ["Penjumlahan dan Pengurangan", "Perkalian", "Pembagian", "Pecahan", "Desimal"],
                correctAnswer: 1,
                explanation: "3 lusin = 3 × 12 = 36"
            },
            {
                stimulus: "Pasangkanlah soal cerita di sebelah kiri dengan operasi hitung yang tepat di sebelah kanan!",
                question: "Sebuah bus berangkat dengan 25 penumpang.",
                options: ["Penjumlahan dan Pengurangan", "Perkalian", "Pembagian", "Pecahan", "Desimal"],
                correctAnswer: 0,
                explanation: "Biasanya melibatkan penumpang naik/turun"
            },
            {
                stimulus: "Pasangkanlah soal cerita di sebelah kiri dengan operasi hitung yang tepat di sebelah kanan!",
                question: "Andi mempunyai 25 kelereng.",
                options: ["Penjumlahan dan Pengurangan", "Perkalian", "Pembagian", "Pecahan", "Desimal"],
                correctAnswer: 0,
                explanation: "Biasanya tentang memberi/menerima kelereng"
            },
            {
                stimulus: "Pasangkanlah soal cerita di sebelah kiri dengan operasi hitung yang tepat di sebelah kanan!",
                question: "Sebuah kue dipotong menjadi 8 bagian sama besar.",
                options: ["Penjumlahan dan Pengurangan", "Perkalian", "Pembagian", "Pecahan", "Desimal"],
                correctAnswer: 3,
                explanation: "Konsep pecahan"
            },
            {
                stimulus: "Pasangkanlah soal cerita di sebelah kiri dengan operasi hitung yang tepat di sebelah kanan!",
                question: "Jarak rumah Rina ke sekolah 2,5 km.",
                options: ["Penjumlahan dan Pengurangan", "Perkalian", "Pembagian", "Pecahan", "Desimal"],
                correctAnswer: 4,
                explanation: "Menggunakan bilangan desimal"
            },
            // Bagian D: Benar - Salah (5 Soal)
            {
                stimulus: "Bacalah pernyataan berikut, kemudian tentukan BENAR atau SALAH!",
                question: "Hasil dari 15² - 13² adalah 56.",
                options: ["BENAR", "SALAH"],
                correctAnswer: 0,
                explanation: "225 - 169 = 56"
            },
            {
                stimulus: "Bacalah pernyataan berikut, kemudian tentukan BENAR atau SALAH!",
                question: "KPK dari 12 dan 18 adalah 36.",
                options: ["BENAR", "SALAH"],
                correctAnswer: 0,
                explanation: "12=2²×3, 18=2×3², KPK=2²×3²=4×9=36"
            },
            {
                stimulus: "Bacalah pernyataan berikut, kemudian tentukan BENAR atau SALAH!",
                question: "Volume kerucut adalah sepertiga volume kubus dengan panjang rusuk sama dengan jari-jari alas kerucut.",
                options: ["BENAR", "SALAH"],
                correctAnswer: 1,
                explanation: "Tidak ada hubungan langsung seperti itu"
            },
            {
                stimulus: "Bacalah pernyataan berikut, kemudian tentukan BENAR atau SALAH!",
                question: "75% dari 16 sama dengan 16% dari 75.",
                options: ["BENAR", "SALAH"],
                correctAnswer: 0,
                explanation: "Kedua hasilnya 12"
            },
            {
                stimulus: "Bacalah pernyataan berikut, kemudian tentukan BENAR atau SALAH!",
                question: "Pada segitiga siku-siku, jumlah kuadrat sisi miring sama dengan jumlah kuadrat kedua sisi lainnya.",
                options: ["BENAR", "SALAH"],
                correctAnswer: 1,
                explanation: "Teorema Pythagoras: kuadrat sisi miring = jumlah kuadrat sisi siku-siku"
            },
            // Bagian E: Studi Kasus (5 Soal)
            {
                stimulus: "Bacalah informasi berikut dengan saksama! Proyek Penanaman Pohon: Kelas VI akan melakukan proyek penanaman pohon di sepanjang jalan desa. Mereka merencanakan menanam pohon dengan jarak 5 meter antar pohon. Panjang jalan yang akan ditanami adalah 100 meter. Di ujung awal dan ujung akhir jalan juga ditanami pohon. Setiap pohon membutuhkan 2 ember air untuk disiram. Satu ember berisi 10 liter air.",
                question: "Berapa banyak pohon yang akan ditanam?",
                options: ["19 pohon", "20 pohon", "21 pohon", "22 pohon"],
                correctAnswer: 2,
                explanation: "Banyak pohon = (100 ÷ 5) + 1 = 20 + 1 = 21"
            },
            {
                stimulus: "Bacalah informasi berikut dengan saksama! Proyek Penanaman Pohon: Kelas VI akan melakukan proyek penanaman pohon di sepanjang jalan desa. Mereka merencanakan menanam pohon dengan jarak 5 meter antar pohon. Panjang jalan yang akan ditanami adalah 100 meter. Di ujung awal dan ujung akhir jalan juga ditanami pohon. Setiap pohon membutuhkan 2 ember air untuk disiram. Satu ember berisi 10 liter air.",
                question: "Berapa total air yang dibutuhkan untuk menyiram semua pohon satu kali?",
                options: ["400 liter", "410 liter", "420 liter", "430 liter"],
                correctAnswer: 2,
                explanation: "21 pohon × 2 ember × 10 liter = 420 liter"
            },
            {
                stimulus: "Bacalah informasi berikut dengan saksama! Proyek Penanaman Pohon: Kelas VI akan melakukan proyek penanaman pohon di sepanjang jalan desa. Mereka merencanakan menanam pohon dengan jarak 5 meter antar pohon. Panjang jalan yang akan ditanami adalah 100 meter. Di ujung awal dan ujung akhir jalan juga ditanami pohon. Setiap pohon membutuhkan 2 ember air untuk disiram. Satu ember berisi 10 liter air.",
                question: "Jika harga satu bibit pohon Rp15.000,00, berapa total biaya untuk membeli bibit?",
                options: ["Rp300.000,00", "Rp315.000,00", "Rp330.000,00", "Rp345.000,00"],
                correctAnswer: 1,
                explanation: "21 × 15.000 = 315.000"
            },
            {
                stimulus: "Bacalah informasi berikut dengan saksama! Proyek Penanaman Pohon: Kelas VI akan melakukan proyek penanaman pohon di sepanjang jalan desa. Mereka merencanakan menanam pohon dengan jarak 5 meter antar pohon. Panjang jalan yang akan ditanami adalah 100 meter. Di ujung awal dan ujung akhir jalan juga ditanami pohon. Setiap pohon membutuhkan 2 ember air untuk disiram. Satu ember berisi 10 liter air.",
                question: "Jika siswa bekerja dalam 3 kelompok dengan pembagian pohon yang sama, berapa banyak pohon yang harus ditanam setiap kelompok?",
                options: ["6 pohon", "7 pohon", "8 pohon", "9 pohon"],
                correctAnswer: 1,
                explanation: "21 ÷ 3 = 7"
            },
            {
                stimulus: "Bacalah informasi berikut dengan saksama! Proyek Penanaman Pohon: Kelas VI akan melakukan proyek penanaman pohon di sepanjang jalan desa. Mereka merencanakan menanam pohon dengan jarak 5 meter antar pohon. Panjang jalan yang akan ditanami adalah 100 meter. Di ujung awal dan ujung akhir jalan juga ditanami pohon. Setiap pohon membutuhkan 2 ember air untuk disiram. Satu ember berisi 10 liter air.",
                question: "Jika setiap kelompok memiliki 5 anggota, berapa jarak yang harus ditanami oleh setiap anggota?",
                options: ["5 meter", "6 meter", "7 meter", "8 meter"],
                correctAnswer: 1,
                explanation: "Setiap kelompok menanam 7 pohon dengan jarak 5 m. Jarak total per kelompok = (7-1) × 5 = 30 m. Setiap anggota bertanggung jawab atas 30 ÷ 5 = 6 meter"
            }
        ];

        // Variabel global
        let currentQuestionIndex = 0;
        let userAnswers = Array(quizData.length).fill(null);
        let correctCount = 0;
        let timerInterval;
        let timeRemaining = 60 * 60; // 60 menit dalam detik
        let startTime;

        // DOM Elements
        const welcomeScreen = document.getElementById('welcomeScreen');
        const quizContainer = document.getElementById('quizContainer');
        const resultsScreen = document.getElementById('resultsScreen');
        const startQuizBtn = document.getElementById('startQuiz');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const retryBtn = document.getElementById('retryBtn');
        const printBtn = document.getElementById('printBtn');
        const currentQuestionElement = document.getElementById('currentQuestion');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        const correctCountElement = document.getElementById('correctCount');
        const progressBar = document.getElementById('progressBar');
        const questionNumberElement = document.getElementById('questionNumber');
        const stimulusElement = document.getElementById('stimulus');
        const questionTextElement = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const timerElement = document.getElementById('timer');
        const finalScoreElement = document.getElementById('finalScore');
        const percentageElement = document.getElementById('percentage');
        const correctAnswersElement = document.getElementById('correctAnswers');
        const incorrectAnswersElement = document.getElementById('incorrectAnswers');
        const timeUsedElement = document.getElementById('timeUsed');
        const passStatusElement = document.getElementById('passStatus');
        const reviewContentElement = document.getElementById('reviewContent');

        // Event Listeners
        startQuizBtn.addEventListener('click', startQuiz);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', showResults);
        retryBtn.addEventListener('click', retryQuiz);
        printBtn.addEventListener('click', printResults);

        // Fungsi untuk memulai kuis
        function startQuiz() {
            welcomeScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            startTime = new Date();
            startTimer();
            showQuestion(currentQuestionIndex);
        }

        // Fungsi untuk menampilkan soal
        function showQuestion(index) {
            const question = quizData[index];
            
            // Update progress
            currentQuestionElement.textContent = index + 1;
            totalQuestionsElement.textContent = quizData.length;
            questionNumberElement.textContent = index + 1;
            
            // Update progress bar
            const progress = ((index + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Tampilkan stimulus jika ada
            if (question.stimulus) {
                stimulusElement.textContent = question.stimulus;
                stimulusElement.style.display = 'block';
            } else {
                stimulusElement.style.display = 'none';
            }
            
            // Tampilkan pertanyaan
            questionTextElement.textContent = question.question;
            
            // Tampilkan opsi jawaban
            optionsContainer.innerHTML = '';
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                // Untuk soal multiple choice, centang jika sudah dipilih
                if (question.multiple && Array.isArray(userAnswers[index]) && userAnswers[index].includes(i)) {
                    optionElement.classList.add('selected');
                } 
                // Untuk soal single choice, centang jika sudah dipilih
                else if (!question.multiple && userAnswers[index] === i) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-marker">${String.fromCharCode(65 + i)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(i));
                optionsContainer.appendChild(optionElement);
            });
            
            // Update tombol navigasi
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === quizData.length - 1;
            
            // Tampilkan tombol submit jika sudah di soal terakhir
            if (index === quizData.length - 1) {
                submitBtn.style.display = 'inline-block';
                nextBtn.style.display = 'none';
            } else {
                submitBtn.style.display = 'none';
                nextBtn.style.display = 'inline-block';
            }
            
            // Update jumlah jawaban benar
            updateCorrectCount();
        }

        // Fungsi untuk memilih opsi jawaban
        function selectOption(optionIndex) {
            const question = quizData[currentQuestionIndex];
            
            if (question.multiple) {
                // Untuk soal multiple choice
                if (!userAnswers[currentQuestionIndex]) {
                    userAnswers[currentQuestionIndex] = [];
                }
                
                const index = userAnswers[currentQuestionIndex].indexOf(optionIndex);
                if (index === -1) {
                    userAnswers[currentQuestionIndex].push(optionIndex);
                } else {
                    userAnswers[currentQuestionIndex].splice(index, 1);
                }
            } else {
                // Untuk soal single choice
                userAnswers[currentQuestionIndex] = optionIndex;
            }
            
            showQuestion(currentQuestionIndex);
        }

        // Fungsi untuk menampilkan soal sebelumnya
        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        // Fungsi untuk menampilkan soal berikutnya
        function showNextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        }

        // Fungsi untuk memperbarui jumlah jawaban benar
        function updateCorrectCount() {
            correctCount = 0;
            for (let i = 0; i < quizData.length; i++) {
                if (isAnswerCorrect(i)) {
                    correctCount++;
                }
            }
            correctCountElement.textContent = correctCount;
        }

        // Fungsi untuk memeriksa apakah jawaban benar
        function isAnswerCorrect(questionIndex) {
            const question = quizData[questionIndex];
            const userAnswer = userAnswers[questionIndex];
            
            if (userAnswer === null) return false;
            
            if (question.multiple) {
                // Untuk soal multiple choice
                if (!Array.isArray(userAnswer) || userAnswer.length !== question.correctAnswer.length) {
                    return false;
                }
                
                // Periksa apakah semua jawaban benar ada
                for (let i = 0; i < question.correctAnswer.length; i++) {
                    if (!userAnswer.includes(question.correctAnswer[i])) {
                        return false;
                    }
                }
                
                // Periksa apakah tidak ada jawaban tambahan
                for (let i = 0; i < userAnswer.length; i++) {
                    if (!question.correctAnswer.includes(userAnswer[i])) {
                        return false;
                    }
                }
                
                return true;
            } else {
                // Untuk soal single choice
                return userAnswer === question.correctAnswer;
            }
        }

        // Fungsi untuk memulai timer
        function startTimer() {
            clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeRemaining--;
                
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    showResults();
                }
            }, 1000);
        }

        // Fungsi untuk menampilkan hasil
        function showResults() {
            clearInterval(timerInterval);
            
            // Hitung waktu yang digunakan
            const endTime = new Date();
            const timeUsed = Math.floor((endTime - startTime) / 1000);
            const minutesUsed = Math.floor(timeUsed / 60);
            const secondsUsed = timeUsed % 60;
            
            // Hitung skor
            const totalQuestions = quizData.length;
            const score = correctCount;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Tampilkan hasil
            quizContainer.style.display = 'none';
            resultsScreen.style.display = 'block';
            
            finalScoreElement.textContent = score;
            percentageElement.textContent = `${percentage}%`;
            correctAnswersElement.textContent = correctCount;
            incorrectAnswersElement.textContent = totalQuestions - correctCount;
            timeUsedElement.textContent = `${minutesUsed.toString().padStart(2, '0')}:${secondsUsed.toString().padStart(2, '0')}`;
            passStatusElement.textContent = percentage >= 70 ? "LULUS" : "TIDAK LULUS";
            passStatusElement.style.color = percentage >= 70 ? "var(--success)" : "var(--danger)";
            
            // Tampilkan review jawaban
            displayReview();
        }

        // Fungsi untuk menampilkan review jawaban
        function displayReview() {
            reviewContentElement.innerHTML = '';
            
            quizData.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'review-item';
                
                const isCorrect = isAnswerCorrect(index);
                const userAnswer = userAnswers[index];
                
                let answerText = '';
                if (question.multiple) {
                    if (Array.isArray(userAnswer) && userAnswer.length > 0) {
                        answerText = userAnswer.map(a => String.fromCharCode(65 + a)).join(', ');
                    } else {
                        answerText = 'Tidak dijawab';
                    }
                } else {
                    answerText = userAnswer !== null ? String.fromCharCode(65 + userAnswer) : 'Tidak dijawab';
                }
                
                let correctAnswerText = '';
                if (question.multiple) {
                    correctAnswerText = question.correctAnswer.map(a => String.fromCharCode(65 + a)).join(', ');
                } else {
                    correctAnswerText = String.fromCharCode(65 + question.correctAnswer);
                }
                
                reviewItem.innerHTML = `
                    <div class="review-question">${index + 1}. ${question.question}</div>
                    <div class="review-answer">
                        <span class="answer-label">Jawaban Anda:</span>
                        <span class="user-answer ${isCorrect ? 'correct-answer' : 'incorrect-answer'}">${answerText}</span>
                        ${!isCorrect ? `<span class="icon ${isCorrect ? 'icon-check' : 'icon-cross'}"></span>` : ''}
                    </div>
                    ${!isCorrect ? `
                    <div class="review-answer">
                        <span class="answer-label">Jawaban Benar:</span>
                        <span class="correct-answer">${correctAnswerText}</span>
                    </div>
                    ` : ''}
                    <div class="review-answer">
                        <span class="answer-label">Penjelasan:</span>
                        <span>${question.explanation}</span>
                    </div>
                `;
                
                reviewContentElement.appendChild(reviewItem);
            });
        }

        // Fungsi untuk mengulang kuis
        function retryQuiz() {
            // Reset variabel
            currentQuestionIndex = 0;
            userAnswers = Array(quizData.length).fill(null);
            correctCount = 0;
            timeRemaining = 60 * 60;
            
            // Tampilkan layar awal
            resultsScreen.style.display = 'none';
            welcomeScreen.style.display = 'block';
        }

        // Fungsi untuk mencetak hasil
        function printResults() {
            window.print();
        }

        // Inisialisasi
        totalQuestionsElement.textContent = quizData.length;
    </script>
</body>
</html>